<!doctype html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Add achievement - <%= shopData.shopName %></title>
    <link rel="stylesheet" href="/main.css" />
  </head>
  <body>
    <div class="layout">
      <aside class="sidebar">
        <h2><%= shopData.shopName %></h2>
        <nav>
          <a href="/">Home</a>
          <a href="/workouts/list">All workouts</a>
          <a href="/workouts/addworkout">Add workout</a>
          <a href="/workouts/search">Search workouts</a>
          <a href="/workouts/shortworkouts">Short workouts</a>
          <a href="/achievements/list">Achievements</a>
          <% if (currentUser) { %>
            <a href="/achievements/add" class="active">Add achievement</a>
          <% } %>
          <a href="/achievements/report">Achievement report</a>
          <a href="/weather">Weather</a>
          <a href="/about">About</a>
          <% if (currentUser) { %>
            <a href="/users/list">Users</a>
            <a href="/users/audit">Login audit</a>
          <% } %>
        </nav>
      </aside>

      <div class="main">
        <header class="topbar">
          <div class="topbar-title">Add achievement</div>
          <div class="topbar-auth">
            <% if (currentUser) { %>
              <span>Hi, <%= currentUser %></span>
              <a href="/users/logout">Logout</a>
            <% } else { %>
              <a href="/users/login">Login</a>
              <a href="/users/register">Register</a>
            <% } %>
          </div>
        </header>

        <main class="main-content">
          <h1>Add a fitness achievement</h1>
          <p>Record milestones like personal bests, streaks, or big lifts.</p>

          <% if (typeof errors !== 'undefined' && Array.isArray(errors) && errors.length) { %>
            <div class="error">
              <ul>
                <% errors.forEach(function(err) { %>
                  <li><%= err.msg %></li>
                <% }); %>
              </ul>
            </div>
          <% } %>

          <form method="POST" action="/achievements/add">
            <label for="title">Achievement title</label>
            <input id="title" type="text" name="title" required />

            <label for="category">Category</label>
            <select id="category" name="category">
              <option value="">-- Select category --</option>
              <option value="Endurance">Endurance</option>
              <option value="Strength">Strength</option>
              <option value="Flexibility">Flexibility</option>
              <option value="Consistency">Consistency</option>
              <option value="Weight">Weight</option>
              <option value="General">General</option>
            </select>

            <label for="metric_value">Metric value (optional)</label>
            <input
              id="metric_value"
              type="number"
              name="metric_value"
              min="0"
              step="1"
              placeholder="e.g. 10"
            />

            <label for="metric_unit">Metric unit</label>
            <input
              id="metric_unit"
              type="text"
              name="metric_unit"
              placeholder="e.g. reps, km, minutes"
            />

            <label for="achieved_at">Date achieved</label>
            <input id="achieved_at" type="date" name="achieved_at" />

            <label for="description">Notes</label>
            <textarea id="description" name="description" rows="4"
              placeholder="What did you achieve and how did it feel?"></textarea>

            <input type="submit" value="Save achievement" />
          </form>
        </main>
      </div>
    </div>
  </body>
</html>
