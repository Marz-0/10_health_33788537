<!doctype html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Add workout - <%= shopData.shopName %></title>
    <link rel="stylesheet" href="/main.css" />
  </head>
  <body>
    <div class="layout">
      <aside class="sidebar">
        <h2><%= shopData.shopName %></h2>
        <nav>
          <a href="/">Home</a>
          <a href="/workouts/list">All workouts</a>
          <a href="/workouts/addworkout" class="active">Add workout</a>
          <a href="/workouts/search">Search workouts</a>
          <a href="/workouts/shortworkouts">Short workouts</a>
          <a href="/achievements/list">Achievements</a>
          <% if (currentUser) { %>
            <a href="/achievements/add">Add achievement</a>
          <% } %>
          <a href="/achievements/report">Achievement report</a>
          <a href="/weather">Weather</a>
          <a href="/about">About</a>
          <% if (currentUser) { %>
            <a href="/users/list">Users</a>
            <a href="/users/audit">Login audit</a>
          <% } %>
        </nav>
      </aside>

      <div class="main">
        <header class="topbar">
          <div class="topbar-title">Add workout</div>
          <div class="topbar-auth">
            <% if (currentUser) { %>
              <span>Hi, <%= currentUser %></span>
              <a href="/users/logout">Logout</a>
            <% } else { %>
              <a href="/users/login">Login</a>
              <a href="/users/register">Register</a>
            <% } %>
          </div>
        </header>

        <main class="main-content">
          <h1>Add a workout</h1>

          <% if (typeof errors !== 'undefined' && Array.isArray(errors) && errors.length) { %>
            <div class="error">
              <ul>
                <% errors.forEach(function(err) { %>
                  <li><%= err.msg %></li>
                <% }); %>
              </ul>
            </div>
          <% } %>

          <form method="POST" action="/workouts/workoutadded">
            <label for="title">Workout title</label>
            <input id="title" type="text" name="title" required />

            <label for="activity_type">Activity type</label>
            <select id="activity_type" name="activity_type">
              <option value="">-- Select an activity --</option>
              <option value="Running">Running</option>
              <option value="Strength Training">Strength Training</option>
              <option value="Yoga">Yoga</option>
              <option value="Cycling">Cycling</option>
              <option value="Other">Other</option>
            </select>

            <label for="duration_minutes">Duration (minutes)</label>
            <input
              id="duration_minutes"
              type="number"
              name="duration_minutes"
              min="1"
              step="1"
              required
            />

            <label for="intensity">Intensity</label>
            <select id="intensity" name="intensity">
              <option value="">-- Select intensity --</option>
              <option value="low">Low</option>
              <option value="medium">Medium</option>
              <option value="high">High</option>
            </select>

            <label for="performed_at">Date performed</label>
            <input id="performed_at" type="date" name="performed_at" />

            <label for="notes">Notes</label>
            <textarea id="notes" name="notes" rows="4"
              placeholder="Optional details about this workout"></textarea>

            <input type="submit" value="Save workout" />
          </form>
        </main>
      </div>
    </div>
  </body>
</html>
